THREE.StereoEffect=function(e){this.separation=3;var t,n,i=new THREE.Vector3,o=new THREE.Quaternion,a=new THREE.Vector3,r=new THREE.PerspectiveCamera,s=new THREE.PerspectiveCamera;e.autoClear=!1,this.setSize=function(i,o){t=i/2,n=o,e.setSize(i,o)},this.render=function(c,h){c.updateMatrixWorld(),void 0===h.parent&&h.updateMatrixWorld(),h.matrixWorld.decompose(i,o,a),r.fov=h.fov,r.aspect=.5*h.aspect,r.near=h.near,r.far=h.far,r.updateProjectionMatrix(),r.position.copy(i),r.quaternion.copy(o),r.translateX(-this.separation),r.updateMatrixWorld(),s.near=h.near,s.far=h.far,s.projectionMatrix=r.projectionMatrix,s.position.copy(i),s.quaternion.copy(o),s.translateX(this.separation),s.updateMatrixWorld(),e.setViewport(0,0,2*t,n),e.clear(),e.setViewport(0,0,t,n),e.render(c,r),e.setViewport(t,0,t,n),e.render(c,s)}};
